<div id="task-{{ task.id }}" class="p-4 bg-white rounded-lg border border-gray-200">
    <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
            {% if task.completed_today %}
            <button hx-post="/tasks/{{ task.id }}/toggle" hx-target="#task-{{ task.id }}" hx-swap="outerHTML"
                    class="w-8 h-8 rounded-full bg-green-100 text-green-600 hover:bg-red-100 hover:text-red-400 flex items-center justify-center text-lg transition">
                &#10003;
            </button>
            {% else %}
            <button hx-post="/tasks/{{ task.id }}/toggle" hx-target="#task-{{ task.id }}" hx-swap="outerHTML"
                    class="w-8 h-8 rounded-full border-2 border-gray-300 hover:border-orange-500 transition flex items-center justify-center">
            </button>
            {% endif %}
            <div>
                <div class="font-medium">{{ task.name }}</div>
                {% if let Some(desc) = task.description %}
                <div class="text-sm text-gray-500">{{ desc }}</div>
                {% endif %}
            </div>
        </div>
        <div class="flex items-center gap-3">
            <div class="text-right">
                <div class="text-2xl font-bold {% if task.current_streak >= 30 %}text-orange-600{% elif task.current_streak >= 7 %}text-yellow-600{% else %}text-gray-700{% endif %}">
                    {{ task.current_streak }}
                </div>
                <div class="text-xs text-gray-500">day{{ task.current_streak|pluralize }}</div>
            </div>
            <button hx-get="/tasks/{{ task.id }}/edit" hx-target="#task-{{ task.id }}" hx-swap="outerHTML"
                    class="text-gray-400 hover:text-gray-600 text-sm">
                &#9998;
            </button>
        </div>
    </div>
</div>
