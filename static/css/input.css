@import "tailwindcss";

@source "../../templates";

/* ===== Custom Properties ===== */
@layer base {
    :root {
        --bg-dark: #1a1a2e;
        --bg-card: #1e1e34;
        --bg-inset: #151528;
        --text-primary: #e0e0e0;
        --text-secondary: #8888a0;
        --shadow-dark: rgba(0, 0, 0, 0.5);
        --shadow-light: rgba(60, 60, 90, 0.25);
        --gradient-pink: #ec4899;
        --gradient-purple: #a855f7;
        --gradient-green: #22c55e;
    }

    body {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #1a1a2e 100%);
        color: var(--text-primary);
        font-family: 'Poppins', sans-serif;
        min-height: 100vh;
    }
}

/* ===== Neumorphic Shadows ===== */
@layer components {
    .neu-raised {
        background: var(--bg-card);
        border-radius: 1rem;
        box-shadow:
            8px 8px 16px var(--shadow-dark),
            -4px -4px 12px var(--shadow-light);
    }

    .neu-flat {
        background: var(--bg-card);
        border-radius: 0.75rem;
        box-shadow:
            4px 4px 8px var(--shadow-dark),
            -2px -2px 6px var(--shadow-light);
    }

    .neu-inset {
        background: var(--bg-inset);
        border-radius: 0.75rem;
        box-shadow:
            inset 4px 4px 8px var(--shadow-dark),
            inset -2px -2px 6px var(--shadow-light);
    }

    /* ===== Gradient Text ===== */
    .gradient-text {
        background: linear-gradient(135deg, var(--gradient-pink), var(--gradient-purple));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .gradient-text-green {
        background: linear-gradient(135deg, var(--gradient-green), #86efac);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* ===== Gradient Button ===== */
    .btn-gradient {
        background: linear-gradient(135deg, var(--gradient-pink), var(--gradient-purple));
        color: white;
        border: none;
        border-radius: 0.75rem;
        padding: 0.625rem 1.5rem;
        font-weight: 600;
        font-size: 0.875rem;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3);
    }

    .btn-gradient:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 20px rgba(168, 85, 247, 0.45);
    }

    /* ===== Neumorphic Inputs ===== */
    .neu-input {
        width: 100%;
        background: var(--bg-inset);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 0.75rem;
        padding: 0.625rem 1rem;
        color: var(--text-primary);
        font-family: 'Poppins', sans-serif;
        font-size: 0.875rem;
        box-shadow:
            inset 2px 2px 4px var(--shadow-dark),
            inset -1px -1px 3px var(--shadow-light);
        outline: none;
        transition: all 0.3s ease;
    }

    .neu-input::placeholder {
        color: var(--text-secondary);
    }

    .neu-input:focus {
        border-color: var(--gradient-purple);
        box-shadow:
            inset 2px 2px 4px var(--shadow-dark),
            inset -1px -1px 3px var(--shadow-light),
            0 0 0 2px rgba(168, 85, 247, 0.2);
    }

    /* ===== Checkbox Buttons ===== */
    .neu-checkbox {
        width: 2.25rem;
        height: 2.25rem;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        background: var(--bg-inset);
        border: 2px solid rgba(255, 255, 255, 0.1);
        box-shadow:
            3px 3px 6px var(--shadow-dark),
            -2px -2px 4px var(--shadow-light);
    }

    .neu-checkbox:hover {
        border-color: var(--gradient-purple);
    }

    .neu-checkbox-checked {
        width: 2.25rem;
        height: 2.25rem;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        background: linear-gradient(135deg, var(--gradient-pink), var(--gradient-purple));
        border: none;
        box-shadow: 0 4px 12px rgba(168, 85, 247, 0.35);
    }

    .neu-checkbox-checked:hover {
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.35);
    }

    /* ===== Progress Bar ===== */
    .progress-track {
        background: var(--bg-inset);
        border-radius: 9999px;
        height: 0.75rem;
        box-shadow:
            inset 2px 2px 4px var(--shadow-dark),
            inset -1px -1px 3px var(--shadow-light);
        overflow: hidden;
    }

    .progress-fill {
        background: linear-gradient(90deg, var(--gradient-pink), var(--gradient-purple));
        height: 100%;
        border-radius: 9999px;
        transition: width 0.5s ease;
    }

    /* ===== Streak Badges ===== */
    .streak-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.25rem 0.625rem;
        border-radius: 9999px;
        font-weight: 700;
        font-size: 0.875rem;
    }

    .streak-badge svg {
        width: 1rem;
        height: 1rem;
    }

    .streak-level-1 {
        background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(168, 85, 247, 0.2));
        color: #f472b6;
    }

    .streak-level-2 {
        background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(139, 92, 246, 0.2));
        color: #c084fc;
    }

    .streak-level-3 {
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(59, 130, 246, 0.2));
        color: #818cf8;
    }

    .streak-level-4 {
        background: linear-gradient(135deg, rgba(245, 158, 11, 0.25), rgba(239, 68, 68, 0.2));
        color: #fbbf24;
    }

    /* ===== Flash Messages ===== */
    .flash-error {
        background: rgba(239, 68, 68, 0.15);
        border: 1px solid rgba(239, 68, 68, 0.3);
        color: #fca5a5;
        border-radius: 0.75rem;
        padding: 0.75rem 1rem;
        animation: slideIn 0.3s ease;
    }

    .flash-success {
        background: rgba(34, 197, 94, 0.15);
        border: 1px solid rgba(34, 197, 94, 0.3);
        color: #86efac;
        border-radius: 0.75rem;
        padding: 0.75rem 1rem;
        animation: slideIn 0.3s ease;
    }

    /* ===== Links ===== */
    .neu-link {
        color: var(--gradient-purple);
        text-decoration: none;
        transition: color 0.2s ease;
    }

    .neu-link:hover {
        color: var(--gradient-pink);
        text-decoration: underline;
    }

    /* ===== Task text when completed ===== */
    .task-completed-text {
        opacity: 0.5;
        text-decoration: line-through;
    }

    /* ===== Milestone badges ===== */
    .milestone-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.125rem 0.5rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
        background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(239, 68, 68, 0.15));
        color: #fbbf24;
    }
}

/* ===== Animations ===== */
@layer utilities {
    @keyframes slideIn {
        from { opacity: 0; transform: translateY(-8px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; transform: translateY(-8px); }
    }

    @keyframes pulse-glow {
        0%, 100% { box-shadow: 0 0 8px rgba(168, 85, 247, 0.3); }
        50% { box-shadow: 0 0 20px rgba(168, 85, 247, 0.5); }
    }

    .animate-slide-in {
        animation: slideIn 0.3s ease;
    }

    .animate-pulse-glow {
        animation: pulse-glow 2s ease-in-out infinite;
    }
}

/* ===== Scrollbar ===== */
::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: var(--bg-dark);
}

::-webkit-scrollbar-thumb {
    background: rgba(136, 136, 160, 0.3);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(136, 136, 160, 0.5);
}

/* ===== Label styling ===== */
label {
    color: var(--text-secondary);
}
